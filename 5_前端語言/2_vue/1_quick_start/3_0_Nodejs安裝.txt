ref ChatGPT


Node.js å®‰è£
	ref https://nodejs.org/zh-tw/download


ä¸‹è¼‰åŸ·è¡Œåˆ†
	* dockerFile
	* windows å®‰è£ç¨‹å¼
	* ç¨ç«‹å¯åŸ·è¡Œæª”

	å·®ç•°ä¸»è¦åœ¨ã€Œå®‰è£æ–¹å¼/å¯æ”œæ€§/èª°è² è²¬ç®¡ç†ç‰ˆæœ¬èˆ‡ç’°å¢ƒã€


1) Windows å®‰è£ç¨‹å¼ï¼ˆ.msi / .exeï¼‰
	é©åˆï¼šå¤§å¤šæ•¸å…§ç¶²é–‹ç™¼æ©Ÿã€æƒ³çœäº‹ã€é•·æœŸå›ºå®šç’°å¢ƒ

	ç‰¹æ€§
		* æœƒæŠŠ nodeã€npm å®‰è£åˆ°ç³»çµ±ï¼ˆé€šå¸¸ C:\Program Files\nodejs\ï¼‰
		* æœƒè‡ªå‹•åŠ åˆ° PATHï¼ˆä½ é–‹ terminal ç›´æ¥ node -vï¼‰
		* æ–¹ä¾¿ IT é€éè»Ÿé«”æ´¾é€ã€ç¾¤çµ„åŸå‰‡ç®¡ç†

	å„ªé»
		âœ… æœ€ç©©ã€æœ€çœäº‹
		âœ… å° VS Code/Terminal å‹å–„
		âœ… ä¼æ¥­æ¨™æº–åŒ–æœ€å¥½åš

	ç¼ºé»
		âŒ è‹¥ä½ æƒ³ã€ŒåŒæ™‚åˆ‡æ›å¤šç‰ˆæœ¬ Nodeã€æœƒæ¯”è¼ƒéº»ç…©ï¼ˆå¯ç”¨ nvm-windows è§£ï¼Œä½†åˆå¤šä¸€å±¤ï¼‰

2) ç¨ç«‹å¯åŸ·è¡Œæª”ï¼ˆPortable / zipï¼‰
	ï¼ˆé€šå¸¸æ˜¯ zip è§£å£“å°±èƒ½ç”¨ï¼Œè£¡é¢æœ‰ node.exeï¼Œnpm ä¹Ÿå¯ç”¨æˆ–éœ€æ­é…ï¼‰

	é©åˆï¼šå…§ç¶²ä¸èƒ½å®‰è£ã€æ²’æœ‰ admin æ¬Šé™ã€æƒ³ã€Œå¯æ”œå¼ã€å¸¶è‘—èµ°

	ç‰¹æ€§
		* ä¸éœ€è¦å®‰è£ç¨‹åºï¼šè§£å£“åˆ°æŸå€‹è³‡æ–™å¤¾å³å¯
		* ä½ è¦è‡ªå·±è™•ç† PATHï¼ˆæˆ–ç”¨å®Œæ•´è·¯å¾‘åŸ·è¡Œï¼‰
		* ç‰ˆæœ¬åˆ‡æ›å¯ä»¥ç”¨ã€Œå¤šå€‹è³‡æ–™å¤¾ã€ç®¡ç†

	å„ªé»
		âœ… ä¸ç”¨ admin æ¬Šé™ï¼ˆå¾ˆå¤šå…¬å¸é›»è…¦å¾ˆéœ€è¦ï¼‰
		âœ… å¥½æ¬ç§»ã€å¥½å›æ»¾ï¼ˆæ›è³‡æ–™å¤¾å°±å›åˆ°èˆŠç‰ˆï¼‰
		âœ… å…§ç¶²ç’°å¢ƒå¸¸è¦‹

	ç¼ºé»
		âŒ ä½ è¦è‡ªå·±ç®¡ PATH / ç’°å¢ƒè®Šæ•¸
		âŒ æœ‰æ™‚å€™ npm å…¨åŸŸå·¥å…·ï¼ˆå¦‚ npm install -gï¼‰çš„è·¯å¾‘è¦è‡ªå·±èª¿

	å¯¦å‹™ä¸Šï¼Œå¦‚æœä½ ä¸èƒ½è£ MSIï¼Œé€™æ˜¯å…§ç¶²ç¬¬äºŒæ¨è–¦ã€‚

	å»ºè­°å°‡è§£å£“ç¸®å¾Œæ”¯æ´ ps çš„å‘½ä»¤æ”¹åï¼Œå¦å‰‡å¾ˆå®¹æ˜“é‡åˆ°å¦‚ä¸‹å•é¡Œ
		PS D:\dev\vue\vue-dev> npm -v
			npm : å› ç‚ºé€™å€‹ç³»çµ±ä¸Šå·²åœç”¨æŒ‡ä»¤ç¢¼åŸ·è¡Œï¼Œæ‰€ä»¥ç„¡æ³•è¼‰å…¥ D:\software\dev_code_tools\node-v24.13.0-win-x64\npm.ps1 æª”æ¡ˆã€‚å¦‚éœ€
			è©³ç´°è³‡è¨Šï¼Œè«‹åƒé–± about_Execution_Policiesï¼Œç¶²å€ç‚º https:/go.microsoft.com/fwlink/?LinkID=135170ã€‚
			ä½æ–¼ ç·šè·¯:1 å­—å…ƒ:1
			+ npm -v
			+ ~~~
				+ CategoryInfo          : SecurityError: (:) [], PSSecurityException
				+ FullyQualifiedErrorId : UnauthorizedAccess

		powershell
			PS C:\WINDOWS\system32> Get-Command npm -All
				CommandType     Name                                               Version    Source
				-----------     ----                                               -------    ------
				ExternalScript  npm.ps1                                                       D:\software\dev_code_tools\node-v24.13...
				Application     npm.cmd                                            0.0.0.0    D:\software\dev_code_tools\node-v24.13...
				Application     npm                                                0.0.0.0    D:\software\dev_code_tools\node-v24.13...

		npm.ps1 => npm.ps1.bak
		npx.ps1 => npx.ps1.bak

		powershell
			PS C:\WINDOWS\system32> Get-Command npm -All
				CommandType     Name                                               Version    Source
				-----------     ----                                               -------    ------
				Application     npm.cmd                                            0.0.0.0    D:\software\dev_code_tools\node-v24.13...
				Application     npm                                                0.0.0.0    D:\software\dev_code_tools\node-v24.13...


3) Dockerfile / Docker Image
	é©åˆï¼šCI/CDã€æˆ–ä½ æŠŠå‰ç«¯ build æ”¾åœ¨å®¹å™¨è£¡åšï¼ˆå»ºç½®ç”¨ï¼‰

	ç‰¹æ€§
		* Node.js åœ¨ container è£¡ï¼Œä¸æ±¡æŸ“ä¸»æ©Ÿ
		* ç‰ˆæœ¬å¯é–æ­»ï¼ˆimage tagï¼‰
		* ç‰¹åˆ¥é©åˆ Jenkins/GitLab CI åš npm ci + npm run build

	å„ªé»
		âœ… å¯é‡ç¾æ€§æœ€å¼·ï¼ˆbuild ç’°å¢ƒä¸€è‡´ï¼‰
		âœ… ä¸éœ€è¦åœ¨é–‹ç™¼æ©Ÿè£ Nodeï¼ˆå¦‚æœä½ é¡˜æ„å…¨éƒ¨åœ¨ container è£¡åšï¼‰
		âœ… CI æœ€å¸¸ç”¨é€™æ¢

	ç¼ºé»
		âŒ å°ã€Œæœ¬æ©Ÿäº’å‹•å¼é–‹ç™¼ï¼ˆHMRï¼‰ã€ä¸ä¸€å®šæœ€é †ï¼ˆå¯åšï¼Œä½†è¦è™•ç† volumeã€portã€æª”æ¡ˆ watcherã€æ•ˆèƒ½ï¼‰
		âŒ å…§ç¶²è‹¥ Docker ä¹Ÿå—é™ï¼Œå°±æ›´éº»ç…©

	å¾ˆå¤šå…¬å¸æ˜¯ï¼šé–‹ç™¼æ©Ÿç”¨ MSI/portableï¼ŒCI ç”¨ Dockerã€‚


ä½ è©²æ€éº¼é¸ï¼ˆå…§ç¶² + VS Code é–‹ç™¼è§’åº¦ï¼‰
	æœ€æ¨è–¦ï¼ˆä¸€èˆ¬æƒ…å¢ƒï¼‰
		* âœ… Windows MSI å®‰è£ç‰ˆï¼šæœ€å°‘éº»ç…©ã€æœ€ç¬¦åˆæ—¥å¸¸é–‹ç™¼

	æ²’ admin æ¬Šé™æˆ–ä¸å…è¨±å®‰è£
		* âœ… Portable/zipï¼šè§£å£“å³ç”¨ï¼Œè‡ªå·±è¨­ PATH

	ä½ å€‘æƒ³æŠŠ build å…¨äº¤çµ¦ CIï¼Œé–‹ç™¼æ©Ÿåªå¯«ç¢¼
		* âœ… CI ç”¨ Docker è·‘ build

	é–‹ç™¼æ©Ÿä»å»ºè­°è£ Nodeï¼ˆé™¤éä½ ä¹Ÿæƒ³ç”¨ dev container æµç¨‹ï¼‰


è£œä¸€å€‹ä½ ä¸€å®šæœƒç¢°åˆ°çš„é»ï¼šnpm ä¸‹è¼‰ä¾è³´ä»è¦ã€Œèƒ½é€£ registryã€

	ä¸ç®¡ä½ ç”¨ MSI/portable/Dockerï¼š
		* npm install éƒ½éœ€è¦é€£åˆ° npm registryï¼ˆå¤–ç¶²æˆ–å…§éƒ¨ proxyï¼‰
		* æ‰€ä»¥ Node å®‰è£æ–¹å¼ â‰  è§£æ±ºå…§ç¶²ä¾è³´ä¾†æºå•é¡Œ
		ï¼ˆé‚£è¦é  proxy æˆ– Nexus/Artifactory/Verdaccioï¼‰




å‚™è¨»: å®‰è£ç¨ç«‹å¯åŸ·è¡Œæª”ï¼ˆPortable / zipï¼‰
	é‚„éœ€è¦è‡ªå·±æŠŠã€Œç’°å¢ƒæ¥å¥½ã€
		æœ€å°‘ä½†å¿…è¦
			ä¸€å®šè¦åšçš„ 5 å€‹æ­¥é©Ÿï¼ˆç…§é †åºï¼‰
				1.è§£å£“åˆ°ã€Œå›ºå®šã€ä¸æœƒè¢«äº‚å‹•ã€çš„è·¯å¾‘
					å»ºè­°è·¯å¾‘ï¼ˆæ“‡ä¸€ï¼‰ï¼š
						C:\tools\nodejs\
						C:\dev\nodejs\
						D:\runtime\nodejs\

					è§£å£“å¾Œä½ æ‡‰è©²èƒ½çœ‹åˆ°ï¼š
						node.exe
						npm.cmd
						npx.cmd

				2ï¸.è¨­å®š PATHï¼ˆæœ€é‡è¦ï¼‰
					æŠŠ Node.js çš„ç›®éŒ„åŠ åˆ° ä½¿ç”¨è€…æˆ–ç³»çµ± PATHã€‚
						C:\tools\nodejs\

						åˆ†æˆã€Œè‡¨æ™‚ï¼ˆåªå°ç›®å‰è¦–çª—ï¼‰ã€è·Ÿã€Œæ°¸ä¹…ï¼ˆå»ºè­°ï¼‰ã€ä½œæ³•
							âœ… å»ºè­°åšæ³•ï¼šæ°¸ä¹…åŠ å…¥ PATHï¼ˆä½¿ç”¨è€…å±¤ç´šï¼‰
								é€™æ˜¯æœ€å¸¸ç”¨ã€ä¹Ÿæœ€å®‰å…¨çš„æ–¹å¼ï¼ˆä¸éœ€è¦ admin æ¬Šé™ï¼‰ã€‚
								åœ¨ å‘½ä»¤æç¤ºå­—å…ƒï¼ˆcmdï¼‰ åŸ·è¡Œï¼š
									setx PATH "%PATH%;C:\tools\nodejs"
								ğŸ“Œ èªªæ˜ï¼š
									setxï¼šæ°¸ä¹…å¯«å…¥ç’°å¢ƒè®Šæ•¸
									åªå½±éŸ¿ã€Œç›®å‰ä½¿ç”¨è€…ã€
									åŸ·è¡Œå¾Œè¦é‡é–‹ VS Code / cmd æ‰æœƒç”Ÿæ•ˆ
								âš ï¸ é‡è¦æ³¨æ„ï¼ˆå¾ˆå¤šäººè¸©é›·ï¼‰
									setx æœƒï¼š
										* æŠŠç›®å‰çš„ PATH æ•´åŒ…å¯«å›
										* æœ‰ 1024 å­—å…ƒé™åˆ¶ï¼ˆèˆŠç‰ˆ Windowsï¼‰
									ğŸ‘‰ å¦‚æœä½ å…¬å¸é›»è…¦ PATH å¾ˆé•·ï¼Œæ”¹ç”¨ PowerShellï¼ˆè¼ƒå®‰å…¨ï¼‰

								âœ… æ¨è–¦åšæ³•ï¼ˆPowerShellï¼Œè¼ƒå®‰å…¨ï¼‰
									åœ¨ PowerShellï¼ˆéç³»çµ±ç®¡ç†å“¡ä¹Ÿå¯ï¼‰ï¼š
										$nodePath = "C:\tools\nodejs"
										$current = [Environment]::GetEnvironmentVariable("Path", "User")
										[Environment]::SetEnvironmentVariable("Path", "$current;$nodePath", "User")
									âœ” ä¸æœƒå‹•åˆ°ç³»çµ± PATH
									âœ” ä¸æœƒè¢« 1024 å­—å…ƒé™åˆ¶å½±éŸ¿

							ğŸ§ª åªæƒ³ã€Œè‡¨æ™‚æ¸¬è©¦ã€çš„æ–¹å¼ï¼ˆä¸å¯«å…¥ç³»çµ±ï¼‰
								åªå½±éŸ¿ç›®å‰é€™å€‹ cmd è¦–çª—ï¼š
									set PATH=%PATH%;C:\tools\nodejs
								é—œæ‰è¦–çª—å°±å¤±æ•ˆï¼ˆé©åˆå¿«é€Ÿé©—è­‰ï¼‰ã€‚

					è¨­å®šå®Œå¾Œ é‡é–‹ VS Code / çµ‚ç«¯æ©Ÿã€‚
						ğŸ“‹ æœ€å°æª¢æŸ¥æ¸…å–®é©—è­‰ï¼š
							where node
							where npm
							node -v
							npm -v
						åªè¦ where node æŒ‡åˆ°ä½ æŒ‡å®šçš„è·¯å¾‘ï¼Œå°±ä»£è¡¨æˆåŠŸã€‚

				3.è¨­å®š npm çš„å…¨åŸŸç›®éŒ„ï¼ˆé¿å…å¯«åˆ°å¥‡æ€ªåœ°æ–¹ï¼‰
					Portable ç‰ˆå¾ˆå®¹æ˜“æŠŠ global å¥—ä»¶å¯«åˆ°ä½ ä¸æƒ³è¦çš„åœ°æ–¹ï¼ˆç”šè‡³æ²’æ¬Šé™ï¼‰ã€‚
					å»ºè­°ä½ æ‰‹å‹•æŒ‡å®šï¼š
						npm config set prefix C:\tools\nodejs\npm-global
					ç„¶å¾ŒæŠŠé€™å€‹ä¹ŸåŠ é€² PATHï¼š
						C:\tools\nodejs\npm-global
					ç”¨é€”ï¼š
						npm install -g pnpm
						npm install -g npm@latest
						ä¸æœƒå¤±æ•—æˆ–äº‚å¯«ã€‚

				4.è¨­å®š npm registryï¼ˆå…§ç¶²ä¸€å®šè¦ï¼‰
					å¦‚æœä½ åœ¨å…§ç¶²ï¼š
						A) æœ‰å…§éƒ¨ registry
							npm config set registry https://npm.company.com/

						B) èµ° proxy
							npm config set proxy http://proxy.company:8080
							npm config set https-proxy http://proxy.company:8080

						é©—è­‰ï¼š
							npm config get registry

				5.ï¼ˆå»ºè­°ï¼‰è¨­å®š npm cache ä½ç½®ï¼ˆå¯æ§ã€å¥½æ¸…ç†ï¼‰
					npm config set cache C:\tools\nodejs\npm-cache

					ä¼æ¥­å…§ç¶²å¸¸è¦æ±‚é€™ç¨®å¯æ§ç›®éŒ„ã€‚
	å®Œæˆå¾Œä½ æ‡‰è©²èƒ½åšåˆ°é€™äº›
		åœ¨ VS Code çš„ Terminal è£¡ï¼š
			node -v
			npm -v
			npm install
			npm run dev
			npm run build
		éƒ½èƒ½æ­£å¸¸è·‘ã€‚

	è·Ÿ MSI å®‰è£ç‰ˆå·®åœ¨å“ªï¼Ÿï¼ˆè®“ä½ ç¢ºèªæ²’å¤šåšäº‹ï¼‰
		| é …ç›®       | MSI å®‰è£ | Portable   |
		| ---------- | -------- | ---------- |
		| PATH       | è‡ªå‹•     | ä½ è¦è‡ªå·±åŠ  |
		| npm prefix | è‡ªå‹•     | å»ºè­°æ‰‹å‹•   |
		| cache      | è‡ªå‹•     | å»ºè­°æ‰‹å‹•   |
		| admin æ¬Šé™ | é€šå¸¸è¦   | ä¸ä¸€å®š     |
		| å¯æ”œæ€§     | ä½       | é«˜         |

	å¸¸è¦‹è¸©é›·æé†’ï¼ˆå…§ç¶²ç’°å¢ƒï¼‰
		âŒ å¿˜è¨˜é‡é–‹ VS Code â†’ PATH æ²’ç”Ÿæ•ˆ
		âŒ npm registry æ²’è¨­ â†’ npm install å¡æ­»
		âŒ å…¨åŸŸ npm å¥—ä»¶å¯«åˆ°ç„¡æ¬Šé™ç›®éŒ„